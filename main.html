<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>神ごよみ統計学 命判定</title>
  <style>
    body { 
      font-family: "Hiragino Mincho ProN", "Yu Mincho", serif; 
      background-color: #f9f9f6; 
      color: #333; 
      padding: 1em;
      margin: 0;
      line-height: 1.6;
    }
    .container { 
      max-width: 600px; 
      margin: auto; 
      background: #fff;
      padding: 2em;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    h1 {
      text-align: center;
      margin-bottom: 1em;
      color: #3c5a3c;
    }
    label {
      font-weight: bold;
      display: block;
      margin-bottom: 0.5em;
    }
    input, button { 
      width: 100%; 
      font-size: 1em; 
      padding: 0.8em; 
      margin-top: 0.5em;
      margin-bottom: 1em;
      border: 1px solid #ddd;
      border-radius: 4px;
    }
    button {
      background: #5a7d5a;
      color: white;
      border: none;
      cursor: pointer;
      transition: background 0.3s;
    }
    button:hover {
      background: #3c5a3c;
    }
    .result { 
      margin-top: 2em; 
      padding: 1.5em; 
      background: #fcfcfa; 
      border-left: 6px solid #8fbc8f; 
      border-radius: 4px;
    }
    .mikoto-name {
      font-size: 1.3em;
      font-weight: bold;
      color: #3a3a3a;
    }
    .multi-soul {
      color: #a33;
      font-weight: bold;
    }
    .details {
      margin-top: 1em;
      color: #555;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>神ごよみ統計学 命（みこと）判定</h1>
    <label>生年月日を入力：</label>
    <input type="date" id="birthdate"/>
    <button onclick="calculate()">判定する</button>
    <div id="result" class="result">結果がここに表示されます</div>
  </div>
<script>
// 固定数テーブル (西暦年: [1月, 2月, 3月...12月])
const fixedNumbers = {
  "1900": [10, 41, 9, 40, 10, 41, 11, 42, 13, 43, 14, 44],
  "1901": [15, 46, 14, 45, 15, 46, 16, 47, 18, 48, 19, 49],
  "1902": [20, 51, 19, 50, 20, 51, 21, 52, 23, 53, 24, 54],
  "1903": [25, 56, 24, 55, 25, 56, 26, 57, 28, 58, 29, 59],
  "1904": [30, 1, 30, 1, 31, 2, 32, 3, 34, 4, 35, 5],
  "1905": [36, 7, 35, 6, 36, 7, 37, 8, 39, 9, 40, 10],
  "1906": [41, 12, 40, 11, 41, 12, 42, 13, 44, 14, 45, 15],
  "1907": [46, 17, 45, 16, 46, 17, 47, 18, 49, 19, 50, 20],
  "1908": [51, 22, 51, 22, 52, 23, 53, 24, 55, 25, 56, 26],
  "1909": [57, 28, 56, 27, 57, 28, 58, 29, 0, 30, 1, 31],
  "1910": [2, 33, 1, 32, 2, 33, 3, 34, 5, 35, 6, 36],
  "1911": [7, 38, 6, 37, 7, 38, 8, 39, 10, 40, 11, 41],
  "1912": [12, 43, 12, 43, 13, 44, 14, 45, 16, 46, 17, 47],
  "1913": [18, 49, 17, 48, 18, 49, 19, 50, 21, 51, 22, 52],
  "1914": [23, 54, 22, 53, 23, 54, 24, 55, 26, 56, 27, 57],
  "1915": [28, 59, 27, 58, 28, 59, 29, 0, 31, 1, 32, 2],
  "1916": [33, 4, 33, 4, 34, 5, 35, 6, 37, 7, 38, 8],
  "1917": [39, 10, 38, 9, 39, 10, 40, 11, 42, 12, 43, 13],
  "1918": [44, 15, 43, 14, 44, 15, 45, 16, 47, 17, 48, 18],
  "1919": [49, 20, 48, 19, 49, 20, 50, 21, 52, 22, 53, 23],
  "1920": [54, 25, 54, 25, 55, 26, 56, 27, 58, 28, 59, 29],
  "1921": [0, 31, 59, 30, 0, 31, 1, 32, 3, 33, 4, 34],
  "1922": [5, 36, 4, 35, 5, 36, 6, 37, 8, 38, 9, 39],
  "1923": [10, 41, 9, 40, 10, 41, 11, 42, 13, 43, 14, 44],
  "1924": [15, 46, 15, 46, 16, 47, 17, 48, 19, 49, 20, 50],
  "1925": [21, 52, 20, 51, 21, 52, 22, 53, 24, 54, 25, 55],
  "1926": [26, 57, 25, 56, 26, 57, 27, 58, 29, 59, 30, 0],
  "1927": [31, 2, 30, 1, 31, 2, 32, 3, 34, 4, 35, 5],
  "1928": [36, 7, 36, 7, 37, 8, 38, 9, 40, 10, 41, 11],
  "1929": [42, 13, 41, 12, 42, 13, 43, 14, 45, 15, 46, 16],
  "1930": [47, 18, 46, 17, 47, 18, 48, 19, 50, 20, 51, 21],
  "1931": [52, 23, 51, 22, 52, 23, 53, 24, 55, 25, 56, 26],
  "1932": [57, 28, 57, 28, 58, 29, 59, 30, 1, 31, 2, 32],
  "1933": [3, 34, 2, 33, 3, 34, 4, 35, 6, 36, 7, 37],
  "1934": [8, 39, 7, 38, 8, 39, 9, 40, 11, 41, 12, 42],
  "1935": [13, 44, 12, 43, 13, 44, 14, 45, 16, 46, 17, 47],
  "1936": [18, 49, 18, 49, 19, 50, 20, 51, 22, 52, 23, 53],
  "1937": [24, 55, 23, 54, 24, 55, 25, 56, 27, 57, 28, 58],
  "1938": [29, 0, 28, 59, 29, 0, 30, 1, 32, 2, 33, 3],
  "1939": [34, 5, 33, 4, 34, 5, 35, 6, 37, 7, 38, 8],
  "1940": [39, 10, 39, 10, 40, 11, 41, 12, 43, 13, 44, 14],
  "1941": [45, 16, 44, 15, 45, 16, 46, 17, 48, 18, 49, 19],
  "1942": [50, 21, 49, 20, 50, 21, 51, 22, 53, 23, 54, 24],
  "1943": [55, 26, 54, 25, 55, 26, 56, 27, 58, 28, 59, 29],
  "1944": [0, 31, 0, 31, 1, 32, 2, 33, 4, 34, 5, 35],
  "1945": [6, 37, 5, 36, 6, 37, 7, 38, 9, 39, 10, 40],
  "1946": [11, 42, 10, 41, 11, 42, 12, 43, 14, 44, 15, 45],
  "1947": [16, 47, 15, 46, 16, 47, 17, 48, 19, 49, 20, 50],
  "1948": [21, 52, 21, 52, 22, 53, 23, 54, 25, 55, 26, 56],
  "1949": [27, 58, 26, 57, 27, 58, 28, 59, 30, 0, 31, 1],
  "1950": [32, 3, 31, 2, 32, 3, 33, 4, 35, 5, 36, 6],
  "1951": [37, 8, 36, 7, 37, 8, 38, 9, 40, 10, 41, 11],
  "1952": [42, 13, 42, 13, 43, 14, 44, 15, 46, 16, 47, 17],
  "1953": [48, 19, 47, 18, 48, 19, 49, 20, 51, 21, 52, 22],
  "1954": [53, 24, 52, 23, 53, 24, 54, 25, 56, 26, 57, 27],
  "1955": [58, 29, 57, 28, 58, 29, 59, 30, 1, 31, 2, 32],
  "1956": [3, 34, 3, 34, 4, 35, 5, 36, 7, 37, 8, 38],
  "1957": [9, 40, 8, 39, 9, 40, 10, 41, 12, 42, 13, 43],
  "1958": [14, 45, 13, 44, 14, 45, 15, 46, 17, 47, 18, 48],
  "1959": [19, 50, 18, 49, 19, 50, 20, 51, 22, 52, 23, 53],
  "1960": [24, 55, 24, 55, 25, 56, 26, 57, 28, 58, 29, 59],
  "1961": [30, 1, 29, 0, 30, 1, 31, 2, 33, 3, 34, 4],
  "1962": [35, 6, 34, 5, 35, 6, 36, 7, 38, 8, 39, 9],
  "1963": [40, 11, 39, 10, 40, 11, 41, 12, 43, 13, 44, 14],
  "1964": [45, 16, 45, 16, 46, 17, 47, 18, 49, 19, 50, 20],
  "1965": [51, 22, 50, 21, 51, 22, 52, 23, 54, 24, 55, 25],
  "1966": [56, 27, 55, 26, 56, 27, 57, 28, 59, 29, 0, 30],
  "1967": [1, 32, 0, 31, 1, 32, 2, 33, 4, 34, 5, 35],
  "1968": [6, 37, 6, 37, 7, 38, 8, 39, 10, 40, 11, 41],
  "1969": [12, 43, 11, 42, 12, 43, 13, 44, 15, 45, 16, 46],
  "1970": [17, 48, 16, 47, 17, 48, 18, 49, 20, 50, 21, 51],
  "1971": [22, 53, 21, 52, 22, 53, 23, 54, 25, 55, 26, 56],
  "1972": [27, 58, 27, 58, 28, 59, 29, 0, 31, 1, 32, 2],
  "1973": [33, 4, 32, 3, 33, 4, 34, 5, 36, 6, 37, 7],
  "1974": [38, 9, 37, 8, 38, 9, 39, 10, 41, 11, 42, 12],
  "1975": [43, 14, 42, 13, 43, 14, 44, 15, 46, 16, 47, 17],
  "1976": [48, 19, 48, 19, 49, 20, 50, 21, 52, 22, 53, 23],
  "1977": [54, 25, 53, 24, 54, 25, 55, 26, 57, 27, 58, 28],
  "1978": [59, 30, 58, 29, 59, 30, 0, 31, 2, 32, 3, 33],
  "1979": [4, 35, 3, 34, 4, 35, 5, 36, 7, 37, 8, 38],
  "1980": [9, 40, 9, 40, 10, 41, 11, 42, 13, 43, 14, 44],
  "1981": [15, 46, 14, 45, 15, 46, 16, 47, 18, 48, 19, 49],
  "1982": [20, 51, 19, 50, 20, 51, 21, 52, 23, 53, 24, 54],
  "1983": [25, 56, 24, 55, 25, 56, 26, 57, 28, 58, 29, 59],
  "1984": [30, 1, 30, 1, 31, 2, 32, 3, 34, 4, 35, 5],
  "1985": [36, 7, 35, 6, 36, 7, 37, 8, 39, 9, 40, 10],
  "1986": [41, 12, 40, 11, 41, 12, 42, 13, 44, 14, 45, 15],
  "1987": [46, 17, 45, 16, 46, 17, 47, 18, 49, 19, 50, 20],
  "1988": [51, 22, 51, 22, 52, 23, 53, 24, 55, 25, 56, 26],
  "1989": [57, 28, 56, 27, 57, 28, 58, 29, 0, 30, 1, 31],
  "1990": [2, 33, 1, 32, 2, 33, 3, 34, 5, 35, 6, 36],
  "1991": [7, 38, 6, 37, 7, 38, 8, 39, 10, 40, 11, 41],
  "1992": [12, 43, 12, 43, 13, 44, 14, 45, 16, 46, 17, 47],
  "1993": [18, 49, 17, 48, 18, 49, 19, 50, 21, 51, 22, 52],
  "1994": [23, 54, 22, 53, 23, 54, 24, 55, 26, 56, 27, 57],
  "1995": [28, 59, 27, 58, 28, 59, 29, 0, 31, 1, 32, 2],
  "1996": [33, 4, 33, 4, 34, 5, 35, 6, 37, 7, 38, 8],
  "1997": [39, 10, 38, 9, 39, 10, 40, 11, 42, 12, 43, 13],
  "1998": [44, 15, 43, 14, 44, 15, 45, 16, 47, 17, 48, 18],
  "1999": [49, 20, 48, 19, 49, 20, 50, 21, 52, 22, 53, 23],
  "2000": [54, 25, 54, 25, 55, 26, 56, 27, 58, 28, 59, 29],
  "2001": [0, 31, 59, 30, 0, 31, 1, 32, 3, 33, 4, 34],
  "2002": [5, 36, 4, 35, 5, 36, 6, 37, 8, 38, 9, 39],
  "2003": [10, 41, 9, 40, 10, 41, 11, 42, 13, 43, 14, 44],
  "2004": [15, 46, 15, 46, 16, 47, 17, 48, 19, 49, 20, 50],
  "2005": [21, 52, 20, 51, 21, 52, 22, 53, 24, 54, 25, 55],
  "2006": [26, 57, 25, 56, 26, 57, 27, 58, 29, 59, 30, 0],
  "2007": [31, 2, 30, 1, 31, 2, 32, 3, 34, 4, 35, 5],
  "2008": [36, 7, 36, 7, 37, 8, 38, 9, 40, 10, 41, 11],
  "2009": [42, 13, 41, 12, 42, 13, 43, 14, 45, 15, 46, 16],
  "2010": [47, 18, 46, 17, 47, 18, 48, 19, 50, 20, 51, 21],
  "2011": [52, 23, 51, 22, 52, 23, 53, 24, 55, 25, 56, 26],
  "2012": [57, 28, 57, 28, 58, 29, 59, 30, 1, 31, 2, 32],
  "2013": [3, 34, 2, 33, 3, 34, 4, 35, 6, 36, 7, 37],
  "2014": [8, 39, 7, 38, 8, 39, 9, 40, 11, 41, 12, 42],
  "2015": [13, 44, 12, 43, 13, 44, 14, 45, 16, 46, 17, 47],
  "2016": [18, 49, 18, 49, 19, 50, 20, 51, 22, 52, 23, 53],
  "2017": [24, 55, 23, 54, 24, 55, 25, 56, 27, 57, 28, 58],
  "2018": [29, 0, 28, 59, 29, 0, 30, 1, 32, 2, 33, 3],
  "2019": [34, 5, 33, 4, 34, 5, 35, 6, 37, 7, 38, 8],
  "2020": [39, 10, 39, 10, 40, 11, 41, 12, 43, 13, 44, 14],
  "2021": [45, 16, 44, 15, 45, 16, 46, 17, 48, 18, 49, 19],
  "2022": [50, 21, 49, 20, 50, 21, 51, 22, 53, 23, 54, 24],
  "2023": [55, 26, 54, 25, 55, 26, 56, 27, 58, 28, 59, 29],
  "2024": [0, 31, 0, 31, 1, 32, 2, 33, 4, 34, 5, 35],
  "2025": [6, 37, 5, 36, 6, 37, 7, 38, 9, 39, 10, 40]
};

// 命（みこと）の定義
const mikotos = [
  { min: 1, max: 10, name: "黒曜大地" },
  { min: 11, max: 20, name: "煌喜楽" },
  { min: 21, max: 30, name: "紅玉火炎" },
  { min: 31, max: 40, name: "瑪瑙星月" },
  { min: 41, max: 50, name: "翡翠大樹" },
  { min: 51, max: 60, name: "藍玉海原" }
];

// 多命条件の定義
const multiSoulConditions = {
  "黒曜大地": { "陽": "戌", "陰": "亥" },
  "煌喜楽": { "陽": "申", "陰": "酉" },
  "紅玉火炎": { "陽": "午", "陰": "未" },
  "瑪瑙星月": { "陽": "辰", "陰": "巳" },
  "翡翠大樹": { "陽": "寅", "陰": "卯" },
  "藍玉海原": { "陽": "子", "陰": "丑" }
};

// 干支リスト
const etoList = ["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"];

// 星数から命（みこと）を取得
function getMikotoByStar(star) {
  for (const mikoto of mikotos) {
    if (star >= mikoto.min && star <= mikoto.max) {
      return mikoto.name;
    }
  }
  return "不明";
}

// 西暦から干支を取得
function getEto(year) {
  const etoIndex = (year - 4) % 12;
  return etoList[etoIndex];
}

// 陽陰を取得（偶数年：陽、奇数年：陰）
function getYinYang(year) {
  return (year % 2 === 0) ? "陽" : "陰";
}

// 計算実行関数
function calculate() {
  const input = document.getElementById("birthdate").value;
  if (!input) {
    document.getElementById("result").innerHTML = "生年月日を入力してください";
    return;
  }

  const birthdate = new Date(input);
  const year = birthdate.getFullYear();
  const month = birthdate.getMonth(); // 0始まり (0=1月, 11=12月)
  const day = birthdate.getDate();

  // 対応年チェック
  if (!fixedNumbers[year]) {
    document.getElementById("result").innerHTML = 
      `<p>申し訳ありません。${year}年は未対応の年です。</p>
       <p>1900年から2025年までの生年月日で試してください。</p>`;
    return;
  }

  // 固定数を取得
  const fixed = fixedNumbers[year][month];
  if (fixed === undefined) {
    document.getElementById("result").innerHTML = "データエラー：この月のデータがありません";
    return;
  }

  // 星数計算
  let star = fixed + day;
  if (star > 60) star -= 60;
  if (star <= 0) star += 60;

  // 命（みこと）、陽陰、干支の判定
  const mikoto = getMikotoByStar(star);
  const yinYang = getYinYang(year);
  const eto = getEto(year);
  
  // 多命判定
  const isMulti = (multiSoulConditions[mikoto] && 
                   multiSoulConditions[mikoto][yinYang] === eto);

  // 結果表示
  const multiStr = isMulti ? '<span class="multi-soul">（多命）</span>' : '';
  
  document.getElementById("result").innerHTML = `
    <div class="mikoto-name">
      あなたの命（みこと）：${mikoto}（${yinYang}）${multiStr}
    </div>
    <div class="details">
      星数：${star}<br>
      干支：${eto}<br>
      生年月日：${year}年${month+1}月${day}日
    </div>
  `;
}
</script>
</body>
</html>
