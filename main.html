<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>神ごよみ統計学 命判定</title>
  <style>
    body {
      font-family: "Hiragino Mincho ProN", serif;
      background-color: #f9f9f6;
      color: #333;
      margin: 0;
      padding: 1em;
      box-sizing: border-box;
    }
    .container {
      max-width: 500px;
      margin: auto;
    }
    h1 {
      text-align: center;
      font-size: 1.6em;
      margin-bottom: 1em;
    }
    input, button {
      width: 100%;
      font-size: 1em;
      padding: 0.8em;
      margin: 0.5em 0;
      box-sizing: border-box;
    }
    .result {
      margin-top: 1.5em;
      padding: 1em;
      background-color: #fff;
      border-left: 6px solid #8fbc8f;
      font-size: 1em;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>神ごよみ統計学 命（みこと）判定</h1>
    <label>生年月日を入力してください：</label><br>
    <input type="date" id="birthdate">
    <button onclick="calculateFate()">判定</button>
    <div id="result" class="result"></div>
  </div>

  <script>
    const fixedNumbers = {
      1968: [25,26,27,28,29,30,31,32,33,34,35,36] // 1968年の仮固定数（1月〜12月）
    };

    function calculateFate() {
      const birthdate = new Date(document.getElementById('birthdate').value);
      const year = birthdate.getFullYear();
      const month = birthdate.getMonth(); // 0-11
      const day = birthdate.getDate();

      if (!fixedNumbers[year]) {
        document.getElementById('result').innerHTML = "この年の固定数は未登録です。";
        return;
      }

      const fixed = fixedNumbers[year][month];
      const starNumber = fixed + day - 1;
      const clippedStar = (starNumber > 60) ? starNumber - 60 : starNumber;

      const mikotoMap = {
        1: "翡翠大樹", 2: "紅玉火炎", 3: "藍玉海原", 4: "黒曜大地", 5: "煌喜楽", 6: "瑪瑙星月",
        7: "翡翠大樹", 8: "紅玉火炎", 9: "藍玉海原", 10: "黒曜大地", 11: "煌喜楽", 12: "瑪瑙星月",
        13: "翡翠大樹", 14: "紅玉火炎", 15: "藍玉海原", 16: "黒曜大地", 17: "煌喜楽", 18: "瑪瑙星月",
        19: "翡翠大樹", 20: "紅玉火炎", 21: "藍玉海原", 22: "黒曜大地", 23: "煌喜楽", 24: "瑪瑙星月",
        25: "翡翠大樹", 26: "紅玉火炎", 27: "藍玉海原", 28: "黒曜大地", 29: "煌喜楽", 30: "瑪瑙星月",
        31: "翡翠大樹", 32: "紅玉火炎", 33: "藍玉海原", 34: "黒曜大地", 35: "煌喜楽", 36: "瑪瑙星月",
        37: "翡翠大樹", 38: "紅玉火炎", 39: "藍玉海原", 40: "黒曜大地", 41: "煌喜楽", 42: "瑪瑙星月",
        43: "翡翠大樹", 44: "紅玉火炎", 45: "藍玉海原", 46: "黒曜大地", 47: "煌喜楽", 48: "瑪瑙星月",
        49: "翡翠大樹", 50: "紅玉火炎", 51: "藍玉海原", 52: "黒曜大地", 53: "煌喜楽", 54: "瑪瑙星月",
        55: "翡翠大樹", 56: "紅玉火炎", 57: "藍玉海原", 58: "黒曜大地", 59: "煌喜楽", 60: "瑪瑙星月"
      };

      const mikoto = mikotoMap[clippedStar] || "不明";
      const yinYang = (clippedStar % 2 === 0) ? "陰" : "陽";
      const multiSoul = [11,22,33,44,55,60].includes(clippedStar) ? "（多命）" : "";

      const result = "あなたの命（みこと）：<strong>" + mikoto + "（" + yinYang + "）" + multiSoul + "</strong><br>";
      document.getElementById('result').innerHTML = result;
    }
  </script>
</body>
</html>
